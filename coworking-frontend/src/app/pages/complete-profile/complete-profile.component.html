<!-- Toast Notifications -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1050">
  <div *ngIf="showToast" class="toast show" role="alert" aria-live="assertive" aria-atomic="true"
       [ngClass]="{'bg-success text-white': toastType === 'success', 'bg-danger text-white': toastType === 'danger'}">
    <div class="toast-header">
      <i class="bi me-2" [ngClass]="{'bi-check-circle-fill': toastType === 'success', 'bi-exclamation-triangle-fill': toastType === 'danger'}"></i>
      <strong class="me-auto">{{ toastType === 'success' ? 'Succès' : 'Erreur' }}</strong>
      <button type="button" class="btn-close" aria-label="Close" (click)="showToast = false"></button>
    </div>
    <div class="toast-body">
      {{ toastMessage }}
    </div>
  </div>
</div>

<div class="profile-container">
    <div class="form-wrapper">
      <h2 class="text-center fw-bold mb-1">Complétez votre profil</h2>
      <p class="text-center text-muted mb-4">Informations personnelles</p>
  
      <form (ngSubmit)="onSubmit()" #profileForm="ngForm">
        <!-- Avatar -->
        <div class="text-center mb-4">
          <div class="avatar-wrapper position-relative mx-auto">
            <img [src]="previewUrl || 'assets/avatar.jpg'" class="avatar-preview" alt="Avatar">

            <label for="avatarInput" class="edit-icon"><i class="bi bi-pencil"></i></label>

            <input type="file" id="avatarInput" hidden (change)="onFileSelected($event)">
          </div>
        </div>
  
        <!-- Genre -->
        <div class="mb-3 text-center gender-radio">
          <label class="me-3">
            <input type="radio" name="gender" value="F" [(ngModel)]="profile.gender" required> Madame
          </label>
          <label>
            <input type="radio" name="gender" value="M" [(ngModel)]="profile.gender"> Monsieur
          </label>
        </div>
  
        <!-- Champs -->
        <div class="mb-3">
          <input type="date" class="form-control form-control-lg" [(ngModel)]="profile.birth_date" name="birth_date" required>
        </div>
  
        <div class="mb-3">
          <input class="form-control form-control-lg" placeholder="Adresse" [(ngModel)]="profile.address" name="address" required>
        </div>
  
        <div class="mb-4">
          <select class="form-select form-select-lg" [(ngModel)]="profile.activity" name="activity" required>
            <option selected disabled value="">Type d'activité</option>
            <option>Développeur</option>
            <option>Designer</option>
            <option>Freelance</option>
            <option>Autre</option>
          </select>
        </div>
  
        <button class="btn btn-warning btn-lg w-100" type="submit">Continuer</button>
      </form>
    </div>
  </div>
  