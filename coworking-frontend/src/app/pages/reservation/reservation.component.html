<div class="container mt-4">
    <h2 class="text-center mb-4">Mes R√©servations</h2>
    <div *ngIf="bookings.length > 0; else noBookings" class="row g-4">
        <div *ngFor="let booking of bookings" class="col-md-6 col-lg-4">
            <div class="card" [ngClass]="{'card-past': isBookingPast(booking.end_time)}">
                <img [src]="booking.coworking_space.image" class="card-img-top" alt="Espace de coworking">
                <div class="card-body">
                    <h5 class="card-title">R√©servation #{{ booking.id }}</h5>
                    <h6 class="card-subtitle">{{ booking.coworking_space.name }}</h6>
                    <p class="card-text">
                        üìÖ <strong>Jour :</strong> {{ booking.start_time | date:'dd/MM/yyyy' }}<br>
                        ‚è∞ <strong>D√©but :</strong> {{ booking.start_time | date:'HH:mm' }}<br>
                        ‚è±Ô∏è <strong>Fin :</strong> {{ booking.end_time | date:'HH:mm' }}<br>
                        üí≥ <strong>Statut :</strong>
                        <span class="badge" [ngClass]="booking.is_paid ? 'bg-success' : 'bg-danger'">
                            {{ booking.is_paid ? 'Pay√©' : 'Non pay√©' }}
                        </span>
                    </p>
                    <div *ngIf="!isBookingPast(booking.end_time)" class="mt-3">
                        <button class="btn btn-outline-danger btn-sm w-100" (click)="openCancelModal(booking)">
                            Annuler la r√©servation
                        </button>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center">
                        <small class="text-muted">üë§ {{ booking.customer.full_name }}</small>
                        <small class="text-muted">‚úâÔ∏è {{ booking.customer.email }}</small>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <ng-template #noBookings>
        <div class="alert alert-warning" role="alert">
            üö´ Aucune r√©servation trouv√©e.
        </div>
    </ng-template>
  
    <!-- Modal de confirmation -->
    <div *ngIf="showModal" class="modal-overlay">
        <div class="modal-content">
            <h4>Confirmation d'annulation</h4>
            <p>Voulez-vous vraiment annuler la r√©servation #{{ selectedBooking?.id }} ?</p>
            <p>Espace : {{ selectedBooking?.coworking_space.name }}</p>
            <p>Date : {{ selectedBooking?.start_time | date:'dd/MM/yyyy' }} - {{ selectedBooking?.end_time | date:'HH:mm' }}</p>
            <button class="btn btn-danger" (click)="confirmCancel()">Confirmer</button>
            <button class="btn btn-secondary" (click)="closeModal()">Annuler</button>
        </div>
    </div>
    
  </div>
  